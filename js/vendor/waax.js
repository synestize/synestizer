window.WX={},function(WX){"use strict";var _API_VERSION="1.0.0-alpha2";WX.getVersion=function(){return _API_VERSION};var _audioContextFlagWebKit=window.hasOwnProperty("webkitAudioContext"),_audioContextFlagNonPrefixed=window.hasOwnProperty("AudioContext");if(!_audioContextFlagWebKit&&!_audioContextFlagNonPrefixed)throw new Error("FATAL: Web Audio API is not supported.");_audioContextFlagWebKit&&!_audioContextFlagNonPrefixed&&(window.AudioContext=window.webkitAudioContext),WX._ctx=new AudioContext,Object.defineProperties(WX,{now:{get:function(){return WX._ctx.currentTime}},srate:{get:function(){return WX._ctx.sampleRate}}}),window.AudioNode.prototype.to=function(){for(var i=0;i<arguments.length;i++)this.connect(arguments[i]);return arguments[0]},window.AudioNode.prototype.cut=function(){this.disconnect()},window.AudioParam.prototype.cancel=window.AudioParam.prototype.cancelScheduledValues,window.AudioParam.prototype.set=function(value,time,rampType){var now=WX._ctx.currentTime;switch(rampType){case 0:case void 0:time=now>time?now:time,this.setValueAtTime(value,time),now>=time&&value!==this.value&&(this.value=value);break;case 1:time=now>time?now:time,this.linearRampToValueAtTime(value,time);break;case 2:time=now>time?now:time,value=0>=value?1e-5:value,this.exponentialRampToValueAtTime(value,time);break;case 3:time[0]=time[0]<now?now:time[0],value=0>=value?1e-5:value,this.setTargetAtTime(value,time[0],time[1])}},WX.Gain=function(){return WX._ctx.createGain()},WX.OSC=function(){return WX._ctx.createOscillator()},WX.Delay=function(){return WX._ctx.createDelay()},WX.Filter=function(){return WX._ctx.createBiquadFilter()},WX.Comp=function(){return WX._ctx.createDynamicsCompressor()},WX.Convolver=function(){return WX._ctx.createConvolver()},WX.WaveShaper=function(){return WX._ctx.createWaveShaper()},WX.Source=function(){return WX._ctx.createBufferSource()},WX.Analyzer=function(){return WX._ctx.createAnalyser()},WX.Panner=function(){return WX._ctx.createPanner()},WX.PeriodicWave=function(){return WX._ctx.createPeriodicWave.apply(WX._ctx,arguments)},WX.Splitter=function(){return WX._ctx.createChannelSplitter.apply(WX._ctx,arguments)},WX.Merger=function(){return WX._ctx.createChannelMerger.apply(WX._ctx,arguments)},WX.Buffer=function(){return WX._ctx.createBuffer.apply(WX._ctx,arguments)},WX.loadClip=function(clip,oncomplete,onprogress){if(!oncomplete)return void Log.error("Specify `oncomplete` action.");var xhr=new XMLHttpRequest;xhr.open("GET",clip.url,!0),xhr.responseType="arraybuffer",xhr.onprogress=function(event){onprogress&&onprogress(event,clip)},xhr.onload=function(){try{WX._ctx.decodeAudioData(xhr.response,function(buffer){clip.buffer=buffer,oncomplete(clip)})}catch(error){WX.Log.error("Loading clip failed. (XHR failure)",error.message,clip.url)}},xhr.send()},WX.WAVEFORMS=[{key:"Sine",value:"sine"},{key:"Square",value:"square"},{key:"Sawtooth",value:"sawtooth"},{key:"Triangle",value:"triangle"}],WX.FILTER_TYPES=[{key:"LP",value:"lowpass"},{key:"HP",value:"highpass"},{key:"BP",value:"bandpass"},{key:"LS",value:"lowshelf"},{key:"HS",value:"highshelf"},{key:"PK",value:"peaking"},{key:"BR",value:"notch"},{key:"AP",value:"allpass"}]}(WX);
!function(WX){var _logLevel=1;WX.Log={},WX.Log.setLevel=function(level){_logLevel=level},WX.Log.info=function(){if(!(_logLevel>1)){var args=Array.prototype.slice.call(arguments);args.unshift("[WX:info]"),window.console.log.apply(window.console,args)}},WX.Log.warn=function(){if(!(_logLevel>2)){var args=Array.prototype.slice.call(arguments);args.unshift("[WX:warn]"),window.console.log.apply(window.console,args)}},WX.Log.error=function(){var args=Array.prototype.slice.call(arguments);throw args.unshift("[WX:error]"),window.console.log.apply(window.console,args),new Error("[WX:error]")};var _LOG2=Math.LN2,_LOG10=Math.LN10,_MIDI1499=3.282417553401589e38;WX.isObject=function(obj){return obj===Object(obj)},WX.isFunction=function(fn){return"[object Function]"===toString.call(fn)},WX.isArray=function(arr){return"[object Array]"===toString.call(arr)},WX.isNumber=function(num){return"[object Number]"===toString.call(num)},WX.isBoolean=function(bool){return"[object Boolean]"===toString.call(bool)},WX.hasParam=function(plugin,param){return hasOwnProperty.call(plugin.params,param)},WX.extend=function(target,source){for(var prop in source)target[prop]=source[prop];return target},WX.clone=function(source){var obj={};for(var prop in source)obj[prop]=source[prop];return obj},WX.validateModel=function(model){if(0===model.length)return!1;for(var keys=[],i=0;i<model.length;i++){if(keys.indexOf(model[i].key)>-1)return!1;keys.push(model[i].key)}return!0},WX.findKeyByValue=function(model,value){for(var i=0;i<model.length;i++)if(model[i].value===value)return model[i].key;return null},WX.findValueByKey=function(model,key){for(var i=0;i<model.length;i++)if(model[i].key===key)return model[i].value;return null},WX.clamp=function(value,min,max){return Math.min(Math.max(value,min),max)},WX.random2f=function(min,max){return min+Math.random()*(max-min)},WX.random2=function(min,max){return Math.round(min+Math.random()*(max-min))},WX.mtof=function(midi){return-1500>=midi?0:midi>1499?_MIDI1499:440*Math.pow(2,(Math.floor(midi)-69)/12)},WX.ftom=function(freq){return Math.floor(freq>0?Math.log(freq/440)/_LOG2*12+69:-1500)},WX.powtodb=function(power){if(0>=power)return 0;var db=100+10/_LOG10*Math.log(power);return 0>db?0:db},WX.dbtopow=function(db){return 0>=db?0:(db>870&&(db=870),Math.exp(.1*_LOG10*(db-100)))},WX.rmstodb=function(rms){if(0>=rms)return 0;var db=100+20/_LOG10*Math.log(rms);return 0>db?0:db},WX.dbtorms=function(db){return 0>=db?0:(db>485&&(db=485),Math.exp(.05*_LOG10*(db-100)))},WX.lintodb=function(lin){return 20*(lin>1e-5?Math.log(lin)/_LOG10:-5)},WX.dbtolin=function(db){return Math.pow(10,db/20)},WX.veltoamp=function(velocity){return velocity/127}}(WX);
!function(WX){function wxparam_checkNumeric(arg,defaultValue){return WX.isNumber(arg)?arg:void 0===arg?defaultValue:void WX.Log.error("Invalid parameter configuration.")}function wxparam_create(options){switch(PARAM_TYPES.indexOf(options.type)<0&&WX.Log.error("Invalid Parameter Type."),options.type){case"Generic":return new GenericParam(options);case"Itemized":return new ItemizedParam(options);case"Boolean":return new BooleanParam(options)}}function GenericParam(options){this.init(options)}function ItemizedParam(options){this.init(options)}function BooleanParam(options){this.init(options)}function PlugInAbstract(){this.params={}}function Generator(){PlugInAbstract.call(this),this._output=WX.Gain(),this._outlet=WX.Gain(),this._output.to(this._outlet),WX.defineParams(this,{output:{type:"Generic",name:"Output","default":1,min:0,max:1,unit:"LinearGain"}})}function Processor(){PlugInAbstract.call(this),this._inlet=WX.Gain(),this._input=WX.Gain(),this._output=WX.Gain(),this._active=WX.Gain(),this._bypass=WX.Gain(),this._outlet=WX.Gain(),this._inlet.to(this._input,this._bypass),this._output.to(this._active).to(this._outlet),this._bypass.to(this._outlet),this._active.gain.value=1,this._bypass.gain.value=0,WX.defineParams(this,{input:{type:"Generic",name:"Input","default":1,min:0,max:1,unit:"LinearGain"},output:{type:"Generic",name:"Output","default":1,min:0,max:1,unit:"LinearGain"},bypass:{type:"Boolean",name:"Bypass","default":!1}})}function Analyzer(){PlugInAbstract.call(this),this._inlet=WX.Gain(),this._input=WX.Gain(),this._analyzer=WX.Analyzer(),this._outlet=WX.Gain(),this._inlet.to(this._input).to(this._analyzer),this._inlet.to(this._outlet),WX.defineParams(this,{input:{type:"Generic",name:"Input","default":1,min:0,max:1,unit:"LinearGain"}})}var PARAM_TYPES=["Generic","Itemized","Boolean"];GenericParam.prototype={init:function(options){this.type="Generic",this.name=options.name||"Parameter",this.unit=options.unit||"",this.value=this.default=wxparam_checkNumeric(options.default,0),this.min=wxparam_checkNumeric(options.min,0),this.max=wxparam_checkNumeric(options.max,1),this._parent=options._parent,this.$callback=options._parent["$"+options._paramId]},set:function(value,time,rampType){this.value=WX.clamp(value,this.min,this.max),this.$callback&&this.$callback.call(this._parent,this.value,time,rampType)},get:function(){return this.value}},ItemizedParam.prototype={init:function(options){WX.isArray(options.model)||Log.error("Model is missing."),WX.validateModel(options.model)||Log.error("Invalid Model."),this.type="Itemized",this.name=options.name||"Select",this.model=options.model,this.default=options.default||this.model[0].value,this.value=this.default,this._parent=options._parent,this.$callback=options._parent["$"+options._paramId]},set:function(value,time,rampType){WX.findKeyByValue(this.model,value)&&(this.value=value,this.$callback&&this.$callback.call(this._parent,this.value,time,rampType))},get:function(){return this.value},getModel:function(){return this.model}},BooleanParam.prototype={init:function(options){WX.isBoolean(options.default)||Log.error("Invalid value for Boolean Parameter."),this.type="Boolean",this.name=options.name||"Toggle",this.value=this.default=options.default,this._parent=options._parent,this.$callback=options._parent["$"+options._paramId]},set:function(value,time,rampType){WX.isBoolean(value)&&(this.value=value,this.$callback&&this.$callback.call(this._parent,this.value,time,rampType))},get:function(){return this.value}},WX.defineParams=function(plugin,paramOptions){for(var key in paramOptions)paramOptions[key]._parent=plugin,paramOptions[key]._paramId=key,plugin.params[key]=wxparam_create(paramOptions[key])},WX.Envelope=function(){var args=arguments;return function(startTime,amplifier){var env=[];startTime=startTime||0,amplifier=amplifier||1;for(var i=0;i<args.length;i++){var time,val=args[i][0];WX.isArray(args[i][1])?(time=[startTime+args[i][1][0],startTime+args[i][1][1]],env.push([val*amplifier,time,3])):(time=startTime+args[i][1],env.push([val*amplifier,time,args[i][2]||0]))}return env}};var PLUGIN_TYPES=["Generator","Processor","Analyzer"],registered={Generator:[],Processor:[],Analyzer:[]};PlugInAbstract.prototype={to:function(plugin){if(plugin._inlet)return this._outlet.to(plugin._inlet),plugin;try{return this._outlet.to(plugin),plugin}catch(error){WX.Log.error("Connection failed. Invalid patching.")}},cut:function(){this._outlet.cut()},set:function(param,arg){if(WX.hasParam(this,param))if(WX.isArray(arg))for(var i=0;i<arg.length;i++)this.params[param].set.apply(this,arg[i]);else this.params[param].set(arg,WX.now,0);return this},get:function(param){return WX.hasParam(this,param)?this.params[param].get():null},setPreset:function(preset){for(var param in preset)this.params[param].set(preset[param],WX.now,0)},getPreset:function(){var preset={};for(var param in this.params)preset[param]=this.params[param].get();return preset}},Generator.prototype={$output:function(value,time,rampType){this._output.gain.set(value,time,rampType)}},WX.extend(Generator.prototype,PlugInAbstract.prototype),Processor.prototype={$input:function(value,time,rampType){this._input.gain.set(value,time,rampType)},$output:function(value,time,rampType){this._output.gain.set(value,time,rampType)},$bypass:function(value,time){time=time||WX.now,value?(this._active.gain.set(0,time,0),this._bypass.gain.set(1,time,0)):(this._active.gain.set(1,time,0),this._bypass.gain.set(0,time,0))}},WX.extend(Processor.prototype,Generator.prototype),Analyzer.prototype={$input:function(value,time,xtype){this._input.gain.set(value,time,xtype)}},WX.extend(Analyzer.prototype,PlugInAbstract.prototype),WX.PlugIn={},WX.PlugIn.defineType=function(plugin,type){switch(PLUGIN_TYPES.indexOf(type)<0&&WX.Log.error("Invalid Plug-in type."),type){case"Generator":Generator.call(plugin);break;case"Processor":Processor.call(plugin);break;case"Analyzer":Analyzer.call(plugin)}},WX.PlugIn.initPreset=function(plugin,preset){var merged=WX.clone(plugin.defaultPreset);WX.extend(merged,preset),plugin.setPreset(merged)},WX.PlugIn.extendPrototype=function(plugin,type){switch(PLUGIN_TYPES.indexOf(type)<0&&WX.Log.error("Invalid Plug-in type."),type){case"Generator":WX.extend(plugin.prototype,Generator.prototype);break;case"Processor":WX.extend(plugin.prototype,Processor.prototype);break;case"Analyzer":WX.extend(plugin.prototype,Analyzer.prototype)}},WX.PlugIn.register=function(PlugInClass){var info=PlugInClass.prototype.info;WX.getVersion()<info.api_version&&WX.Log.error(PlugInClass.name,": FATAL. incompatible WAAX version."),registered[info.type].push(PlugInClass.name),WX[PlugInClass.name]=function(preset){return new PlugInClass(preset)}},WX.PlugIn.getRegistered=function(type){var plugins=null;if(PLUGIN_TYPES.indexOf(type)>-1)switch(type){case"Generator":plugins=registered.Generator.slice(0);break;case"Processor":plugins=registered.Processor.slice(0);break;case"Analyzer":plugins=registered.Analyzer.slice(0)}return plugins},WX.Log.info("WAAX",WX.getVersion(),"("+WX.srate+"Hz)")}(WX);
!function(WX){"use strict";function generate_uid4(){var t=Date.now(),id="xxxx".replace(/[x]/g,function(c){var r=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==c?r:7&r|8).toString(16)});return id}function Note(pitch,velocity,start,duration){this.pitch=pitch||60,this.velocity=velocity||100,this.start=start||0,this.duration=duration||120}function NoteClip(){this._init()}function Transport(BPM){this._init(BPM||120)}var _TICKS_PER_BEAT=480,_TICKS_PER_MEASURE=4*_TICKS_PER_BEAT,_TICKS_PER_SIXTEENTH=.25*_TICKS_PER_BEAT;Note.prototype={changeDuration:function(delta){this.duration+=~~delta,this.duration=Math.max(this.duration,1)},getEnd:function(){return this.start+this.duration},setNote:function(note){for(var prop in note)this[prop]=note[prop]},translatePitch:function(delta){this.pitch+=~~delta,this.pitch=WX.clamp(this.pitch,0,127)},translateStart:function(delta){this.start+=~~delta,this.start=Math.max(this.start,0)},toString:function(){return this.pitch+","+this.velocity+","+this.start+","+this.duration},valueOf:function(){return this.start}},NoteClip.prototype={_init:function(){this.notes={},this.start=0,this.end=0,this.size=0},"delete":function(id){if(this.notes.hasOwnProperty(id)){var note=this.notes[id];return delete this.notes[id],this.size--,note}return null},empty:function(){this.notes={},this.size=0},findNoteIdAtPosition:function(pitch,tick){for(var id in this.notes){var note=this.notes[id];if(note&&note.pitch===pitch&&note.start<=tick&&tick<=note.getEnd())return id}return null},findNotesIdInArea:function(minPitch,maxPitch,startTick,endTick){var bucket=[];for(var id in this.notes){var note=this.notes[id];note&&minPitch<=note.pitch&&note.pitch<=maxPitch&&startTick<=note.start&&note.start<=endTick&&bucket.push(id)}return bucket.length>0?bucket:null},get:function(id){return this.hasId(id)?this.notes[id]:null},getAllId:function(){return Object.keys(this.notes)},getSize:function(){return this.size},hasId:function(id){return this.notes.hasOwnProperty(id)},iterate:function(callback){var index=0;for(var id in this.notes)callback(id,this.notes[id],index++)},push:function(note){var id;do id=generate_uid4();while(this.hasId(id));return this.notes[id]=note,this.size++,id},set:function(id,note){this.hasId(id)?this.notes[id].setNote(note):this.notes[id]=note},scanNotesInTimeSpan:function(start,end){var bucket=[];for(var id in this.notes){var note=this.notes[id];note&&start<=note.start&&note.start<=end&&bucket.push(note)}return bucket.length>0?bucket:null}},Transport.prototype={_flushPlaybackQueue:function(){this._playbackQueue.length=0},_setPlayheadPosition:function(second){this._now=second,this._absOrigin=WX.now-this._now},_scheduleNotesInScanRange:function(){if(this._needsScan){var notes=null;if(this._source&&(notes=this._source.scanNotesInTimeSpan(this.sec2tick(this._scanStart),this.sec2tick(this._scanEnd))),notes)for(var i=0;i<notes.length;i++)this._playbackQueue.indexOf(notes[i])<0&&this._playbackQueue.push(notes[i]);this._needsScan=!1}if(this._playbackQueue.length>0)for(var i=0;i<this._playbackQueue.length;i++){var note=this._playbackQueue[i],start=this._absOrigin+this.tick2sec(note.start);start+this.tick2sec(note.dur)}},_advanceScanRange:function(){this._scanEnd-this._now<.0167&&(this._scanStart=this._scanEnd,this._scanEnd=this._scanStart+this._lookAhead,this._needsScan=!0)},_resetScanRange:function(){this._scanStart=this._now,this._scanEnd=this._scanStart+this._lookahead,this._needsScan=!0},_updateView:function(){},_run:function(){if(this._RUNNING){var absNow=WX.now;this._now+=absNow-this._absLastNow,this._absLastNow=absNow,this._scheduleNotesInScanRange(),this._advanceScanRange(),this._updateView(),this._flushPlaybackQueue(),this._LOOP&&this._loopEnd-(this._now+this._lookAhead)<0&&this._setPlayheadPosition(this._loopStart-(this._loopEnd-this._now))}requestAnimationFrame(this._run.bind(this))},_init:function(BPM){this._BPM=BPM,this._lastBPM=BPM,this._BIS=0,this._TIS=0,this._absOrigin=0,this._absLastNow=0,this._now=0,this._loopStart=0,this._loopEnd=0,this._lookAhead=0,this._scanStart=0,this._scanEnd=this._lookAhead,this._needsScan=!0,this._transportView=null,this._playbackQueue=[],this._source=null,this._target=null,this._RUNNING=!1,this._LOOP=!1,this._USE_METRONOME=!1,this.setBPM(BPM),this._run()},tick2sec:function(tick){return tick*this._TIS},sec2tick:function(sec){return sec/this._TIS},start:function(){var absNow=WX.now;this._absOrigin=absNow-this._now,this._absLastNow=absNow,this._resetScanRange(),this._RUNNING=!0},pause:function(){this._RUNNING=!1,this._flushPlaybackQueue()},setNow:function(tick){this._setPlayheadPosition(this.tick2sec(tick)),this._resetScanRange()},getNow:function(){return this.sec2tick(this._now)},rewind:function(){this._setPlayheadPosition(0)},setLoopStart:function(tick){this._loopStart=this.tick2sec(tick)},setLoopEnd:function(tick){this._loopEnd=this.tick2sec(tick)},getLoopStart:function(){return this.sec2tick(this._loopStart)},getLoopEnd:function(){return this.sec2tick(this._loopEnd)},toggleLoop:function(bool){void 0===bool?this._LOOP=!this._LOOP:WX.isBoolean(bool)?this._LOOP=bool:WX.Log.error("Invalid parameter. Use boolean value.")},setBPM:function(BPM){this._BPM=BPM||120;var factor=this._lastBPM/this._BPM;this._lastBPM=this._BPM,this._BIS=60/this._BPM,this._TIS=this._BIS/_TICKS_PER_BEAT,this._lookAhead=16*this._TIS,this._now*=factor,this._loopStart*=factor,this._loopEnd*=factor,this._absOrigin=WX.now-this._now},getBPM:function(){return this._BPM},isRunning:function(){return this._RUNNING}},WX.mbst2tick=function(mtime){return(mtime.measure||0)*_TICKS_PER_MEASURE+(mtime.beat||0)*_TICKS_PER_BEAT+(mtime.sixteenth||0)*_TICKS_PER_SIXTEENTH+(mtime.tick||0)},WX.tick2mbst=function(tick){return{measure:~~(tick/_TICKS_PER_MEASURE),beat:~~(tick%_TICKS_PER_MEASURE/_TICKS_PER_BEAT),sixteenth:~~(tick%_TICKS_PER_BEAT/_TICKS_PER_SIXTEENTH),tick:~~(tick%_TICKS_PER_SIXTEENTH)}},WX.Note=function(pitch,velocity,start,duration){return new Note(pitch,velocity,start,duration)},WX.NoteClip=function(){return new NoteClip},WX.Transport=new Transport(120)}(WX);
window.MUI=function(WX){function MouseResponder(senderID,targetElement,MUICallback){this.senderId=senderID,this.container=targetElement,this.callback=MUICallback,this.ondragged=this.dragged.bind(this),this.onreleased=this.released.bind(this),this._prevTS=0,this.onclicked(targetElement)}function KeyResponder(senderID,targetElement,MUICallback){this.senderId=senderID,this.container=targetElement,this.callback=MUICallback,this.onkeypress=this.keypressed.bind(this),this.onblur=this.finished.bind(this),this.onfocus(targetElement)}return MouseResponder.prototype={getEventData:function(event){var r=this.container.getBoundingClientRect();return{x:event.clientX-r.left,y:event.clientY-r.top,ctrlKey:event.ctrlKey,altKey:event.altKey,shiftKey:event.shiftKey,metaKey:event.metaKey}},onclicked:function(target){target.addEventListener("mousedown",function(event){event.preventDefault(),this._prevTS=event.timeStamp;var p=this.getEventData(event);this.callback(this.senderId,"clicked",p),window.addEventListener("mousemove",this.ondragged,!1),window.addEventListener("mouseup",this.onreleased,!1)}.bind(this),!1)},dragged:function(event){if(event.preventDefault(),!(event.timeStamp-this._prevTS<16.7)){this._prevTS=event.timeStamp;var p=this.getEventData(event);this.callback(this.senderId,"dragged",p)}},released:function(event){event.preventDefault();var p=this.getEventData(event);this.callback(this.senderId,"released",p),window.removeEventListener("mousemove",this.ondragged,!1),window.removeEventListener("mouseup",this.onreleased,!1)}},KeyResponder.prototype={onfocus:function(){this.container.addEventListener("mousedown",function(event){event.preventDefault(),this.callback(this.senderId,"clicked",null),this.container.addEventListener("keypress",this.onkeypress,!1),this.container.addEventListener("blur",this.onblur,!1)}.bind(this),!1)},keypressed:function(event){this.callback(this.senderId,"keypressed",event.keyCode)},finished:function(){this.callback(this.senderId,"finished",null),this.container.removeEventListener("keypress",this.onkeypress,!1),this.container.removeEventListener("blur",this.onblur,!1)}},{isPointInArea:function(point,area){return area.x<=point.x&&point.x<=area.x+area.w&&area.y<=point.y&&point.y<=area.y+area.h},MouseResponder:function(senderID,targetElement,MUICallback){return new MouseResponder(senderID,targetElement,MUICallback)},KeyResponder:function(senderID,targetElement,MUICallback){return new KeyResponder(senderID,targetElement,MUICallback)},buildControls:function(plugin,targetId){var targetEl=document.getElementById(targetId);targetEl.label=plugin.info.name;for(var param in plugin.params){var p=plugin.params[param];switch(p.type){case"Generic":var knob=document.createElement("mui-knob");knob.link(plugin,param),targetEl.appendChild(knob);break;case"Itemized":var select=document.createElement("mui-select");select.link(plugin,param),targetEl.appendChild(select);break;case"Boolean":var button=document.createElement("mui-button");button.type="toggle",button.link(plugin,param),targetEl.appendChild(button)}}},removeChildren:function(targetId){for(var targetEl=document.getElementById(targetId);targetEl.firstChild;)targetEl.removeChild(targetEl.firstChild)},$:function(elementId){return document.getElementById(elementId)},start:function(onreadyFn){WX.isObject(window.Platform)?window.addEventListener("polymer-ready",onreadyFn):WX.Log.error("FATAL: Platform/Polymer is not loaded.")}}}(WX);
!function(WX){function Fader(preset){WX.PlugIn.defineType(this,"Processor"),this._panner=WX.Panner(),this._input.to(this._panner).to(this._output),this._panner.panningModel="equalpower",WX.defineParams(this,{output:{type:"Generic",name:"Output","default":1,min:0,max:3.9810717055349722,unit:"LinearGain"},mute:{type:"Boolean",name:"Mute","default":!1},pan:{type:"Generic",name:"Pan","default":0,min:-1,max:1},dB:{type:"Generic",name:"dB","default":0,min:-60,max:12,unit:"Decibels"}}),WX.PlugIn.initPreset(this,preset)}Fader.prototype={info:{name:"Fader",version:"0.0.2",api_version:"1.0.0-alpha",author:"Hongchan Choi",type:"Processor",description:"Channel Fader"},defaultPreset:{mute:!1,pan:0,dB:0},$mute:function(value){value?this._outlet.gain.set(0,WX.now,0):this._outlet.gain.set(1,WX.now,0)},$pan:function(value){this._panner.setPosition(value,0,.5)},$dB:function(value,time,rampType){this.params.output.set(WX.dbtolin(value),time,rampType)}},WX.PlugIn.extendPrototype(Fader,"Processor"),WX.PlugIn.register(Fader),WX.Master=WX.Fader(),WX.Master.to(WX._ctx.destination)}(WX);